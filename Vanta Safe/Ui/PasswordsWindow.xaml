<Window x:Class="Vanta_Safe.Ui.PasswordsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Vanta_Safe.Ui"
        mc:Ignorable="d"
        WindowState="Maximized"
        Title="PasswordsWindow" Height="450" Width="800"
        KeyDown="Window_KeyDown">
    <Window.Background>
        <ImageBrush ImageSource="G:\My CS\Semester 4\ISL\IS Final Project\Vanta Safe\Assets\venta-black.jpg" Stretch="UniformToFill"/>
    </Window.Background>
    <Grid>
        <!-- Header -->
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,30">
            <TextBlock Text="Your Passwords" 
                       Foreground="#00FF00" 
                       FontSize="28"
                       FontWeight="Bold"/>

            <Image Source="G:\My CS\Semester 4\ISL\IS Final Project\Vanta Safe\Assets\sheild-icon.png" 
                   Width="40" 
                   Height="40"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Margin="0,10">
                <Image.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                 From="1" To="0" Duration="0:0:1.2" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Image.Triggers>
            </Image>
        </StackPanel>

        <!-- Search Bar with Add Button -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,120">
            <TextBox x:Name="txtSearch" 
                     Width="300" 
                     Height="35"
                     Style="{StaticResource HintTextbox}"
                     Tag="Search passwords..."
                     KeyDown="txtSearch_KeyDown"/>

            <!-- Add New Credential Button -->
            <Button x:Name="btnAdd" 
                    Width="35" 
                    Height="35"
                    Margin="20,0,0,0"
                    Background="Transparent"
                    BorderBrush="#00FF00"
                    Click="btnAdd_Click">
                <Image Source="G:\My CS\Semester 4\ISL\IS Final Project\Vanta Safe\Assets\security-add.png"
                       Width="30"
                       
                       Height="20"/>
            </Button>
            <Button x:Name="btnRefresh"
        Width="35"
        Height="35"
        Margin="20,0,0,0"
        Background="Transparent"
        BorderBrush="#00FF00"
        Click="btnRefresh_Click">
    <Image Source="G:\My CS\Semester 4\ISL\IS Final Project\Vanta Safe\Assets\refresh.png"
           Width="20" Height="20"/>
</Button>
        </StackPanel>

        <ListBox x:Name="lstPasswords" 
                 Width="500" 
                 Height="500"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center"
                 Margin="0,150,0,0"
                 Background="Transparent"
                 BorderBrush="#00FF00"
                 Foreground="#00FF00"
                 ScrollViewer.CanContentScroll="True"
                 VirtualizingStackPanel.IsVirtualizing="True"
                 VirtualizingStackPanel.VirtualizationMode="Recycling"
                 MouseDoubleClick="OnCredentialDoubleClick"

                 SelectionChanged="PasswordSelected">
            <ListBox.Resources>
                <Style TargetType="ScrollBar">
                    <Setter Property="Background" Value="#FF000000"/>
                    <Setter Property="Foreground" Value="#FF333333"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ScrollBar">
                                <Grid>
                                    <Border Background="{TemplateBinding Background}"/>
                                    <Track x:Name="PART_Track">
                                        <Track.Thumb>
                                            <Thumb Background="{TemplateBinding Foreground}"/>
                                        </Track.Thumb>
                                    </Track>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListBox.Resources>

            <!-- ... (existing ListBox content remains the same) ... -->
        </ListBox>

        <!-- Back Button -->
        <Button x:Name="btnBack" 
                Content="← Back" 
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="20,20"
                Style="{StaticResource MenuButtonStyle}"
                Click="GoBack_Click"/>
    </Grid>
</Window>